<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge"> -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' data: fonts.gstatic.com;"> -->
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <!-- jQuery to load before materialize -->
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
     <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
     <!-- CSS -->
     <link rel="stylesheet" type="text/css" href="style.css">
     <!-- GOOGLE FONTS -->
     <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
    <title>Friend Finder Survey</title>
</head>
<body id="materialize-override">
    <section class="container">
        <h1>Survey Questions</h1>
        <hr>
        <h3>Answer each statement by indicating your level of agreement or disagreement.</h3>
    </section>
    <hr>
    <section class="container user-input">
        <div class="input-field">
            <h3>About You</h3>
            <h4>Name (Required)</h4>
            <input type="text" id="name" class="form-control" placeholder="Enter Your Name Here" required>
            <h3>Link to Photo Image (Required)</h3>
            <input type="text" id="photo" class="form-control" placeholder="Link a Photo of Yourself" required>
        </div>
    </section>
    <section class="container question-section">
        <div class="question input-field col s12">
            <h3>Question 1:</h3>
            <h4>Pop-tarts are just desert ravioli</h4>
            <select id="q1" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>  
        </div> <!-- END OF QUESTION 1 -->
         <div class="question input-field">
                <h3>Question 2:</h3>
                <h4>Books are always better than the film adaptations</h4>
                <select id="q2" class="browser-default">
                    <option value="" disabled selected>Choices</option>
                    <option value="1">1 (Stongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3">3 (Meh)</option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select> 
        </div> <!-- END OF QUESTION 2 -->
        <div class="question input-field">
                <h3>Question 3:</h3>
                <h4>Veggie Burgers should not exist</h4>
                <select id="q3" class="browser-default">
                    <option value="" disabled selected>Choices</option>
                    <option value="1">1 (Stongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3">3 (Meh)</option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select> 
        </div> <!-- END OF QUESTION 3 -->
        <div class="question input-field col s12">
                <h3>Question 4:</h3>
                <h4>Climate change is a real threat facing humanity</h4>
                <select id="q4" class="browser-default">
                    <option value="" disabled selected>Choices</option>
                    <option value="1">1 (Stongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3">3 (Meh)</option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select> 
            </div> <!-- END OF QUESTION 4 -->
        <div class="question input-field col s12">
                <h3>Question 5:</h3>
                <h4>Libertarians are just Republicans who smoke weed</h4>
                <select id="q5" class="browser-default">
                    <option value="" disabled selected>Choices</option>
                    <option value="1">1 (Stongly Disagree)</option>
                    <option value="2">2 (Disagree)</option>
                    <option value="3">3 (Meh)</option>
                    <option value="4">4 (Agree)</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select> 
        </div> <!-- END OF QUESTION 5 -->    
        <div class="question input-field col s12">
            <h3>Question 6:</h3>
            <h4>Dogs are vastly better than cats</h4>
            <select id="q6" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select> 
        </div> <!-- END OF QUESTION 6 -->
        <div class="question input-field col s12">
            <h3>Question 7:</h3>
            <h4>The Lord of the Rings is better then Harry Potter</h4>
            <select id="q7" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select> 
        </div> <!-- END OF QUESTION 7 -->
        <div class="question input-field col s12">
            <h3>Question 8:</h3>
            <h4>The new Star Wars films are absolutley horrific</h4>
            <select id="q8" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select> 
        </div> <!-- END OF QUESTION 8 -->
        <div class="question input-field col s12">
            <h3>Question 9:</h3>
            <h4>Peanut Butter should never go on a hamburger</h4>
            <select id="q9" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select> 
        </div> <!-- END OF QUESTION 9 -->
        <div class="question input-field col s12">
            <h3>Question 10:</h3>
            <h4>Arrested Development is one of the best written shows of all time</h4>
            <select id="q10" class="browser-default">
                <option value="" disabled selected>Choices</option>
                <option value="1">1 (Stongly Disagree)</option>
                <option value="2">2 (Disagree)</option>
                <option value="3">3 (Meh)</option>
                <option value="4">4 (Agree)</option>
                <option value="5">5 (Strongly Agree)</option>
            </select> 
        </div> <!-- END OF QUESTION 10 -->
    </section> <!--END OF QUESTION SECTION-->

    <section class=" container">
            <button data-target="modal1" class="btn modal-trigger waves-effect waves-light" type="submit" name="action" id="submitBtn">Submit
                <!-- <i class="material-icons right"></i> -->
            </button>
    </section>

    <!-- FOOTER -->
    <footer>
            <div class="container">
                <p>
                    <a href="/api/friends">API Friends List</a>
                    <span> | </span>
                    <a  target="_blank" href="https://github.com/rstootalow/Friend-Finder-Application">GitHub Repo</a>
                </p>
            </div>
        </footer> <!-- END OF FOOTER-->

        <!-- POP UP MODAL FOR BEST MATCH -->
        <div id="modal1" class="modal">
            <div class="modal-content">
                <h3>Most Compatible Match</h3>
                <div id="matchName"></div>
                <img src="" id="matchImage" class="materialboxed" width="650" alt="Compatible Match Image">
            </div>
        </div>

        
        <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
        <!-- Javascript -->
        <script>
        
        
            $(document).ready(function() {
                $("select").formSelect();

                $(".modal").modal({
                    dismissible: false,
                    opacity: .75,
                    inDuration: 200,
                    outDuration: 300,
                            startingTop: "3%",
                            endingTop: "8%"
                        });
                    });

                    // SUBMIT BUTTON FUNCTIONALITY

                    $("#submitBtn").on("click", function(event) {
                        event.preventDefault();

                        // take user answers and store in object
                        var input = {
                            name: $("#name").val().trim(),
                            photo: $("#photo").val().trim(),
                            scores: [
                                $("#q1").val().trim(),
                                $("#q2").val().trim(),
                                $("#q3").val().trim(),
                                $("#q4").val().trim(),
                                $("#q5").val().trim(),
                                $("#q6").val().trim(),
                                $("#q7").val().trim(),
                                $("#q8").val().trim(),
                                $("#q9").val().trim(),
                                $("#q10").val().trim(),
                            ]
                        };

                        $.post("/api/friends", input)
                            .done(function(data) {
                                $("#matchName").html(data.matchName);
                                $("#matchName").attr("src", data.matchImage);

                                // POPULATE MODAL ON MATCH
                                $("#modal1").modal("open");
                            });
                    });
        </script>
       
</body>
</html>